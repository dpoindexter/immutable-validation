!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],n):"object"==typeof exports?exports.ImmutableValidation=n(require("immutable")):t.ImmutableValidation=n(t.Immutable)}(this,function(t){return function(t){function n(r){if(e[r])return e[r].exports;var u=e[r]={exports:{},id:r,loaded:!1};return t[r].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n["default"]=t,n}function u(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.rule=n.predicates=n.Validator=void 0;var o=e(8);Object.defineProperty(n,"Validator",{enumerable:!0,get:function(){return u(o)["default"]}});var i=e(17);Object.defineProperty(n,"rule",{enumerable:!0,get:function(){return u(i)["default"]}});var a=e(16),f=r(a);n.predicates=f},function(t,n,e){var r=e(2),u=e(5);t.exports=function(t){return function n(e,o){switch(arguments.length){case 0:return n;case 1:return u(e)?n:r(function(n){return t(e,n)});default:return u(e)&&u(o)?n:u(e)?r(function(n){return t(n,o)}):u(o)?r(function(n){return t(e,n)}):t(e,o)}}}},function(t,n,e){var r=e(5);t.exports=function(t){return function n(e){return 0===arguments.length||r(e)?n:t.apply(this,arguments)}}},function(t,n){t.exports=function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,u){return n.apply(this,arguments)};case 5:return function(t,e,r,u,o){return n.apply(this,arguments)};case 6:return function(t,e,r,u,o,i){return n.apply(this,arguments)};case 7:return function(t,e,r,u,o,i,a){return n.apply(this,arguments)};case 8:return function(t,e,r,u,o,i,a,f){return n.apply(this,arguments)};case 9:return function(t,e,r,u,o,i,a,f,c){return n.apply(this,arguments)};case 10:return function(t,e,r,u,o,i,a,f,c,l){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(){}function o(t){return"Function"===(0,x["default"])(t)}function i(t){return"String"===(0,x["default"])(t)}function a(t){return"Object"===(0,x["default"])(t)}function f(t){return"Number"===(0,x["default"])(t)}function c(t){return"Boolean"===(0,x["default"])(t)}function l(t){return(0,V["default"])((0,E["default"])(Object),(0,_["default"])(t))}function s(t){return C(t)?t.size?t.size:t.length:0}function p(t){return t&&o(t.toJS)?t.toJS():t}function d(t,n){return t&&"object"===("undefined"==typeof t?"undefined":g(t))?o(t.get)?t.get(n):t[n]:t}function h(t,n){if(!t)throw n}function y(t,n,e){return h(t(e),n),e}function v(t){return(0,A["default"])(t)?t:[t]}function b(t,n){return o(t)?t:o(n)?(0,j["default"])(n,[t]):u}Object.defineProperty(n,"__esModule",{value:!0}),n.isIterable=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};n.noop=u,n.isFunction=o,n.isString=i,n.isObject=a,n.isNumber=f,n.isBoolean=c,n.maybeHas=l,n.iterableLength=s,n.unwrapImmutable=p,n.get=d,n.assert=h,n.assertFor=y,n.liftToArray=v,n.asCallable=b;var m=e(40),x=r(m),w=e(33),j=r(w),O=e(22),_=r(O),S=e(23),M=r(S),P=e(9),V=r(P),I=e(32),E=r(I),k=e(21),T=r(k),F=e(13),A=r(F),C=n.isIterable=(0,V["default"])((0,E["default"])(Object),(0,T["default"])((0,M["default"])("length"),(0,M["default"])("size")))},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t&&t["@@functional/placeholder"]===!0}},function(t,n,e){var r=e(12),u=e(29);t.exports=function(t,n){return function(){var e=arguments.length;if(0===e)return n();var o=arguments[e-1];return r(o)||"function"!=typeof o[t]?n.apply(this,arguments):o[t].apply(o,u(arguments,0,e-1))}}},function(n,e){n.exports=t},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t){var n=new Error("Rules must return a result with the\n        properties `isValid` and `message`.\n        Use ImmutableValidation.rule()");(0,O.assert)((0,x["default"])((0,O.maybeHas)(E),(0,O.maybeHas)(V))(t),n)}function i(t){var n=new TypeError("`"+t+"` is a non-iterable value.\n        ruleForEach applies a validation rule to\n        each item in an iterable");return function(t){return(0,O.assert)((0,O.isIterable)(t),n)}}function a(t,n,e){var r=F(e),u=C(t),o=N(t);return function(t,e){return(0,g["default"])(n,r,T,u(t),o(t))(e)}}function f(t,n,e){var r=A(e),u=C(t),o=N(t);return function(t,e){return(0,g["default"])(n,r,u(t),o(t))(e)}}function c(t,n,e){return function(r,u){var o=(0,j["default"])(i(t),n(u)),a=o.reduce(function(t,n,r){return N(r,t,e.validate(n))},T());return N(t,r,a)}}function l(t,n,e){var r=F(e);return function(e,u){var o=(0,j["default"])(i(t),n(u)),a=o.reduce(function(t,n,e){return(0,g["default"])(r,T,N(e,t))(n)},T());return N(t,e,a)}}function s(t,n){var e=new q;return e.ruleSets=t.ruleSets.concat(n),e}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),d=e(7),h=r(d),y=e(19),v=r(y),b=e(34),g=r(b),m=e(9),x=r(m),w=e(39),j=r(w),O=e(4),_=e(15),S=r(_),M=e(14),P=r(M),V="message",I="rules",E="isValid",k=(0,v["default"])(function(t,n,e){var r=(0,j["default"])(o,e(t)),u=r.isValid,i=r.message;return u?n:n.add(i)}),T=P["default"].create,F=(0,v["default"])(function(t,n){return t.reduce(k(n),h["default"].Set())}),A=(0,v["default"])(function(t,n){return t.validate(n)}),C=(0,v["default"])(function(t,n,e){return e.mergeDeep(n.getIn([I,t]))}),N=(0,v["default"])(function(t,n,e){return n.set(E,n.get("isValid")&&e.get("isValid")).setIn([I,t],e)}),q=function(){function t(){u(this,t),this.ruleSets=[],this.validationState=h["default"].Map({isValid:!0})}return p(t,[{key:"ruleFor",value:function(n,e){for(var r=arguments.length,u=Array(r>2?r-2:0),o=2;r>o;o++)u[o-2]=arguments[o];var i=t.isInstance(u[0])?f(n,e,u[0]):a(n,e,u);return s(this,i)}},{key:"ruleForEach",value:function(n,e){for(var r=arguments.length,u=Array(r>2?r-2:0),o=2;r>o;o++)u[o-2]=arguments[o];var i=t.isInstance(u[0])?c(n,e,u[0]):l(n,e,u);return s(this,i)}},{key:"validate",value:function(t){return this.validationState=this.ruleSets.reduce(function(n,e){return e(n,t)},P["default"].create()),this.validationState}}],[{key:"isInstance",value:function(t){return t?(0,O.isFunction)(t.validate):!1}},{key:"which",value:function(t){if(!(0,O.isFunction)(t))throw new TypeError("Call Validator.which with a function returning a validator or null");return new S["default"](t)}}]),t}();n["default"]=q},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return function(){return t.apply(this,arguments)&&n.apply(this,arguments)}})},function(t,n){t.exports=function(t,n){t=t||[],n=n||[];var e,r=t.length,u=n.length,o=[];for(e=0;r>e;)o[o.length]=t[e],e+=1;for(e=0;u>e;)o[o.length]=n[e],e+=1;return o}},function(t,n,e){var r=e(2),u=e(1),o=e(5);t.exports=function(t){return function n(e,i,a){switch(arguments.length){case 0:return n;case 1:return o(e)?n:u(function(n,r){return t(e,n,r)});case 2:return o(e)&&o(i)?n:o(e)?u(function(n,e){return t(n,i,e)}):o(i)?u(function(n,r){return t(e,n,r)}):r(function(n){return t(e,i,n)});default:return o(e)&&o(i)&&o(a)?n:o(e)&&o(i)?u(function(n,e){return t(n,e,a)}):o(e)&&o(a)?u(function(n,e){return t(n,i,e)}):o(i)&&o(a)?u(function(n,r){return t(e,n,r)}):o(e)?r(function(n){return t(n,i,a)}):o(i)?r(function(n){return t(e,n,a)}):o(a)?r(function(n){return t(e,i,n)}):t(e,i,a)}}}},function(t,n){t.exports=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)}},function(t,n,e){var r=e(2),u=e(12);t.exports=r(function(t){return u(t)?!0:t?"object"!=typeof t?!1:t instanceof String?!1:1===t.nodeType?!!t.length:0===t.length?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1:!1})},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),f=e(7),c=r(f),l=e(31),s=r(l),p=e(35),d=r(p),h=e(4),y="rules",v=function(t){function n(){return u(this,n),o(this,Object.getPrototypeOf(n).apply(this,arguments))}return i(n,t),a(n,[{key:"refine",value:function(t){t=(0,h.liftToArray)(t);var n=(0,d["default"])(y,(0,s["default"])(y,t));return this.getIn(n)}}]),n}(c["default"].Record({isValid:!0,rules:c["default"].Map(),messages:c["default"].Set()}));v.create=function(t){return new v({isValid:t?t.isEmpty():!0,messages:t})},n["default"]=v},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(7),a=r(i),f=e(8),c=r(f),l=function(){function t(n){u(this,t),this.getValidator=n}return o(t,[{key:"validate",value:function(t){var n=this.getValidator(t);return c["default"].isInstance(n)?n.validate(t):a["default"].Map({isValid:!0})}}]),t}();n["default"]=l},function(t,n,e){"use strict";function r(t){return(0,a.isString)(t)||(0,a.isNumber)(t)||(0,a.isBoolean)(t)?(0,a.isString)(t)?t.trim().length>0:!isNaN(t):!1}function u(t){return function(n){return n.length>=t}}function o(t){return function(n){return n.length<=t}}function i(t,n){return function(e){var r=parseInt(e,10);return r>=t&&n>=r}}Object.defineProperty(n,"__esModule",{value:!0}),n.required=r,n.minLength=u,n.maxLength=o,n.between=i;var a=e(4)},function(t,n,e){"use strict";function r(t,n){return t=(0,u.asCallable)(t,function(){return!0}),n=(0,u.asCallable)(n,function(t){return(0,u.isString)(t)?t:""}),function(e){var r=t(e),u=n(e);return{isValid:r,message:u}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var u=e(4)},function(t,n,e){var r=e(3),u=e(1);t.exports=u(function(t,n){return r(t.length,function(){return t.apply(n,arguments)})})},function(t,n,e){var r=e(2),u=e(20);t.exports=r(function(t){return u(t.length,t)})},function(t,n,e){var r=e(3),u=e(2),o=e(1),i=e(25);t.exports=o(function(t,n){return 1===t?u(n):r(t,i(t,[],n))})},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return function(){return t.apply(this,arguments)||n.apply(this,arguments)}})},function(t,n,e){var r=e(1),u=e(26);t.exports=r(u)},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t in n})},function(t,n,e){var r=e(3),u=e(1);t.exports=function(t){return u(function(n,e){return r(Math.max(0,n.length-e.length),function(){return n.apply(this,t(e,arguments))})})}},function(t,n,e){var r=e(3),u=e(5);t.exports=function o(t,n,e){return function(){for(var i=[],a=0,f=t,c=0;c<n.length||a<arguments.length;){var l;c<n.length&&(!u(n[c])||a>=arguments.length)?l=n[c]:(l=arguments[a],a+=1),i[c]=l,u(l)||(f-=1),c+=1}return 0>=f?e.apply(this,i):r(f,o(t,i,e))}}},function(t,n){t.exports=function(t,n){return Object.prototype.hasOwnProperty.call(n,t)}},function(t,n){t.exports=function(t,n){return function(){return n.call(this,t.apply(this,arguments))}}},function(t,n,e){var r=e(30),u=e(18),o=e(13);t.exports=function(){function t(t,n,e){for(var r=0,u=e.length;u>r;){if(n=t["@@transducer/step"](n,e[r]),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}function n(t,n,e){for(var r=e.next();!r.done;){if(n=t["@@transducer/step"](n,r.value),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function e(t,n,e){return t["@@transducer/result"](e.reduce(u(t["@@transducer/step"],t),n))}var i="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";return function(u,a,f){if("function"==typeof u&&(u=r(u)),o(f))return t(u,a,f);if("function"==typeof f.reduce)return e(u,a,f);if(null!=f[i])return n(u,a,f[i]());if("function"==typeof f.next)return n(u,a,f);throw new TypeError("reduce: list must be array or iterable")}}()},function(t,n){t.exports=function e(t,n,r){switch(arguments.length){case 1:return e(t,0,t.length);case 2:return e(t,n,t.length);default:for(var u=[],o=0,i=Math.max(0,Math.min(t.length,r)-n);i>o;)u[o]=t[n+o],o+=1;return u}}},function(t,n){t.exports=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},function(n){return new t(n)}}()},function(t,n,e){var r=e(6),u=e(1);t.exports=u(r("intersperse",function(t,n){for(var e=[],r=0,u=n.length;u>r;)r===u-1?e.push(n[r]):e.push(n[r],t),r+=1;return e}))},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return null!=n&&n.constructor===t||n instanceof t})},function(t,n,e){var r=e(10),u=e(24);t.exports=u(r)},function(t,n,e){var r=e(3),u=e(27),o=e(36),i=e(38);t.exports=function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return r(arguments[0].length,o(u,arguments[0],i(arguments)))}},function(t,n,e){var r=e(10),u=e(1);t.exports=u(function(t,n){return r([t],n)})},function(t,n,e){var r=e(11),u=e(28);t.exports=r(u)},function(t,n,e){var r=e(6),u=e(11);t.exports=u(r("slice",function(t,n,e){return Array.prototype.slice.call(e,t,n)}))},function(t,n,e){var r=e(6),u=e(37);t.exports=r("tail",u(1,1/0))},function(t,n,e){var r=e(1);t.exports=r(function(t,n){return t(n),n})},function(t,n,e){var r=e(2);t.exports=r(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)})}])});