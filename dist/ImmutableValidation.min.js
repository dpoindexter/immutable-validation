!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):"object"==typeof exports?exports.ImmutableValidation=t(require("immutable")):e.ImmutableValidation=t(e.Immutable)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=u(i),o=n(4),l=r(o),s=n(5),c=u(s);t["default"]={Validator:a["default"],predicates:l,rule:c["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return function(t,n){var r=o(n,e),u=r.isValid,i=r.message;return u?t:t.add(i)}}function a(e,t){var n=c(t,2),r=n[1];return e===!1?!1:r.has("isValid")?r.get("isValid"):r.has(v)&&r.get(v).count()?!1:r.entrySeq().filter(function(e){var t=c(e,1),n=t[0];return"isValid"!==n&&n!==v}).reduce(a,e)}function o(e,t){var n=e(t);if(!p.call(n,"isValid")||!p.call(n,"message"))throw new Error("Rules must return a result with the properties `isValid` and `message`. Use ImmutableValidation.rule()");return n}function l(e,t,n){var r=t(n);if(!h.isIterable(r))throw new TypeError("`"+e+"` is a non-iterable value. ruleForEach applies a validation rule to each item in an iterable");return r}function s(e,t,n){return e.has(t)&&(n=e.get(t).merge(n)),e.set(t,d.Map(n))}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,u=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){u=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(u)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(2),h=n(3),p=Object.prototype.hasOwnProperty,v="self",y=function(){function e(t){u(this,e),this.getValidator=t}return f(e,[{key:"validate",value:function(e){var t=this.getValidator(e);return b.isInstance(t)?t.validate(e):d.Map({isValid:!0})}}]),e}(),b=function(){function e(){u(this,e),this.ruleSets=[],this.validationState=d.Map({isValid:!0})}return f(e,[{key:"ruleFor",value:function(t,n){for(var r=arguments.length,u=Array(r>2?r-2:0),i=2;r>i;i++)u[i-2]=arguments[i];return e.isInstance(u[0])?this._addValidatorToRuleSets(t,n,u[0]):this._addRuleSetToRuleSets(t,n,u)}},{key:"ruleForEach",value:function(t,n){for(var r=arguments.length,u=Array(r>2?r-2:0),i=2;r>i;i++)u[i-2]=arguments[i];return e.isInstance(u[0])?this._addForEachValidatorToRuleSets(t,n,u[0]):this._addForEachRuleSetToRuleSets(t,n,u)}},{key:"validate",value:function(e){var t=this.ruleSets.reduce(function(t,n){return n(e,t)},d.Map()),n=t.entrySeq().filter(function(e){var t=c(e,1),n=t[0];return"isValid"!==n}).reduce(a,!0);return this.validationState=t.set("isValid",n),this.validationState}},{key:"_addValidatorToRuleSets",value:function(e,t,n){return this.ruleSets.push(function(r,u){var i=t(r),a=n.validate(i);return s(u,e,a)}),this}},{key:"_addRuleSetToRuleSets",value:function(e,t,n){return this.ruleSets.push(function(u,a){var o=a.getIn([e,v])||d.Set(),l=i(t(u)),s=n.reduce(l,o);return a.set(e,d.Map(r({},v,s)))}),this}},{key:"_addForEachValidatorToRuleSets",value:function(e,t,n){return this.ruleSets.push(function(r,u){for(var i=l(e,t,r),a=d.Map(),o=0;o<h.iterableLength(i);o++){var c=n.validate(h.get(i,o));a=a.set(o,c)}return s(u,e,a)}),this}},{key:"_addForEachRuleSetToRuleSets",value:function(e,t,n){return this.ruleSets.push(function(u,a){for(var o=l(e,t,u),c=d.Map(),f=0;f<h.iterableLength(o);f++){var p=i(h.get(o,f)),y=n.reduce(p,d.Set());c=c.set(f,d.Map(r({},v,y)))}return s(a,e,c)}),this}}],[{key:"isInstance",value:function(e){return e?h.isFunction(e.validate):!1}},{key:"which",value:function(e){if(!h.isFunction(e))throw new TypeError("Call Validator.which with a function returning a validator or null");return new y(e)}}]),e}();t["default"]=b,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){"use strict";function n(e){return e}function r(){return void 0}function u(e){return null===e?"null":void 0===e?"undefined":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(e){return"function"===u(e)}function a(e){return"string"===u(e)}function o(e){return"object"===u(e)}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),u=0;t>u;u++)r[u]=arguments[u];return e.apply(this,n.concat(r))}}function s(e){return e&&"object"==typeof e?"length"in e||"count"in e&&i(e.count):!1}function c(e){return s(e)?i(e.count)?e.count():e.length:0}function f(e){return e&&i(e.toJS)?e.toJS():e}function d(e,t){return e&&"object"==typeof e?i(e.get)?e.get(t):e[t]:e}function h(e,t){return i(e)?e:i(t)?l(t,e):"identity"===t?l(n,e):r}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=n,t.noop=r,t.toType=u,t.isFunction=i,t.isString=a,t.isObject=o,t.partial=l,t.isIterable=s,t.iterableLength=c,t.unwrapImmutable=f,t.get=d,t.asCallable=h},function(e,t){"use strict";function n(e){return!!e}function r(e){return function(t){return t.length>=e}}function u(e){return function(t){return t.length<=e}}function i(e,t){return function(n){var r=parseInt(n,10);return r>=e&&t>=r}}Object.defineProperty(t,"__esModule",{value:!0}),t.required=n,t.minLength=r,t.maxLength=u,t.between=i},function(e,t,n){"use strict";function r(e,t){return e=u.asCallable(e,function(){return!0}),t=u.asCallable(t,function(e){return u.isString(e)?e:""}),function(n){var r=e(n),u=t(n);return{isValid:r,message:u}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var u=n(3);e.exports=t["default"]}])});