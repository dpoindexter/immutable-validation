!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):"object"==typeof exports?exports.ImmutableValidation=t(require("immutable")):e.ImmutableValidation=t(e.Immutable)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=u(a),o=n(3),s=r(o),l=n(4),f=u(l);t["default"]={Validator:i["default"],facts:s,rule:f["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),i=Object.prototype.hasOwnProperty,o=function(){function e(){r(this,e),this.ruleSets=[],this.validationState=new a.Map({isValid:!0,messages:new a.Map})}return u(e,[{key:"ruleFor",value:function(t,n){for(var r=arguments.length,u=Array(r>2?r-2:0),a=2;r>a;a++)u[a-2]=arguments[a];return 1===u.length&&e.isInstance(u[0])?this._addValidatorToRuleSets(t,n,u[0]):this._addRuleSetToRuleSets(t,n,u)}},{key:"_addValidatorToRuleSets",value:function(e,t,n){return this.validationState=this.validationState.setIn(["messages",e],new a.Map),this.ruleSets.push(function(r,u){var a=t(r,e),i=n.validate(a);return u.set(e,i)}),this}},{key:"_addRuleSetToRuleSets",value:function(e,t,n){var r=this;return this.validationState=this.validationState.setIn(["messages",e],new a.Set),this.ruleSets.push(function(u,a){return n.reduce(function(n,a){var i=n.get(e),o=t(u,e),s=r._runRule(a,o),l=s.isValid,f=s.message;return l?n.set(e,i["delete"](f)):n.set(e,i.add(f))},a)}),this}},{key:"_runRule",value:function(e,t){var n=e(t);if(!i.call(n,"isValid")||!i.call(n,"message"))throw new Error("Validation rules must return a result object with the properties `isValid` and `message`");return n}},{key:"validate",value:function(e){var t=this.ruleSets.reduce(function(t,n){return n(e,t)},this.validationState.get("messages")),n=t.every(function(e){return!e.count()});return this.validationState=this.validationState.withMutations(function(e){return e.set("isValid",n).set("messages",t)}),this.validationState}}],[{key:"isInstance",value:function(e){return"function"==typeof e.validate&&"function"==typeof e.ruleFor}},{key:"defaultGetter",value:function(e,t){return e.get(t)}}]),e}();t["default"]=o,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){"use strict";function n(e){return!!e}function r(e){return function(t){return t.length>=e}}function u(e){return function(t){return t.length<=e}}function a(e,t){return function(n){var r=parseInt(n,10);return r>=e&&t>=r}}Object.defineProperty(t,"__esModule",{value:!0}),t.required=n,t.minLength=r,t.maxLength=u,t.between=a},function(e,t){"use strict";function n(e,t){return function(n){var r=e(n);return{isValid:r,message:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]}])});