!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("immutable")):"function"==typeof define&&define.amd?define(["immutable"],t):"object"==typeof exports?exports.ImmutableValidation=t(require("immutable")):e.ImmutableValidation=t(e.Immutable)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function u(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=u(i),o=n(5),l=r(o),f=n(6),c=u(f);t["default"]={Validator:a["default"],predicates:l,rule:c["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(t,n){var r=l(n,e),u=r.isValid,i=r.message;return u?t:t.add(i)}}function o(e,t){var n=b(t,2),r=n[1];return e===!1?!1:r.has("isValid")?r.get("isValid"):r.has(j)&&r.get(j).count()?!1:r.entrySeq().filter(function(e){var t=b(e,1),n=t[0];return"isValid"!==n&&n!==j}).reduce(o,e)}function l(e,t){var n=e(t);if(!w.hasProp(n,"isValid")||!w.hasProp(n,"message"))throw new Error("Rules must return a result with the properties `isValid` and `message`. Use ImmutableValidation.rule()");return n}function f(e,t,n){var r=t(n);if(!w.isIterable(r))throw new TypeError("`"+e+"` is a non-iterable value. ruleForEach applies a validation rule to each item in an iterable");return r}function c(e,t,n){return e.has(t)&&(n=e.get(t).merge(n)),e.set(t,g["default"].Map(n))}function s(e,t,n){return function(r,u){var o=u.getIn([e,j])||g["default"].Set(),l=a(t(r)),f=n.reduce(l,o);return u.set(e,g["default"].Map(i({},j,f)))}}function d(e,t,n){return function(r,u){var i=t(r),a=n.validate(i);return c(u,e,a)}}function p(e,t,n){return function(r,u){var i=f(e,t,r),a=i.reduce(function(e,t,r){var u=n.validate(t);return e.set(r,u)},g["default"].Map());return c(u,e,a)}}function v(e,t,n){return function(r,u){var o=f(e,t,r),l=o.reduce(function(e,t,r){var u=a(t),o=n.reduce(u,g["default"].Set());return e.set(r,g["default"].Map(i({},j,o)))},g["default"].Map());return c(u,e,l)}}function h(e,t){var n=new M;return n.ruleSets=e.ruleSets.concat(t),n}Object.defineProperty(t,"__esModule",{value:!0});var b=function(){function e(e,t){var n=[],r=!0,u=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){u=!0,i=l}finally{try{!r&&o["return"]&&o["return"]()}finally{if(u)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(2),g=r(m),w=n(3),S=n(4),_=r(S),j="self",M=function(){function e(){u(this,e),this.ruleSets=[],this.validationState=g["default"].Map({isValid:!0})}return y(e,[{key:"ruleFor",value:function(t,n){for(var r=arguments.length,u=Array(r>2?r-2:0),i=2;r>i;i++)u[i-2]=arguments[i];var a=e.isInstance(u[0])?d(t,n,u[0]):s(t,n,u);return h(this,a)}},{key:"ruleForEach",value:function(t,n){for(var r=arguments.length,u=Array(r>2?r-2:0),i=2;r>i;i++)u[i-2]=arguments[i];var a=e.isInstance(u[0])?p(t,n,u[0]):v(t,n,u);return h(this,a)}},{key:"validate",value:function(e){var t=this.ruleSets.reduce(function(t,n){return n(e,t)},g["default"].Map()),n=t.entrySeq().filter(function(e){var t=b(e,1),n=t[0];return"isValid"!==n}).reduce(o,!0);return this.validationState=t.set("isValid",n),this.validationState}}],[{key:"isInstance",value:function(e){return e?w.isFunction(e.validate):!1}},{key:"which",value:function(e){if(!w.isFunction(e))throw new TypeError("Call Validator.which with a function returning a validator or null");return new _["default"](e)}}]),e}();t["default"]=M,e.exports=t["default"]},function(t,n){t.exports=e},function(e,t){"use strict";function n(e){return e}function r(){return void 0}function u(e){return null===e?"null":void 0===e?"undefined":{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function i(e){return"function"===u(e)}function a(e){return"string"===u(e)}function o(e){return"object"===u(e)}function l(e){return"number"===u(e)}function f(e){return"boolean"===u(e)}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),u=0;t>u;u++)r[u]=arguments[u];return e.apply(this,n.concat(r))}}function s(e){return e&&"object"==typeof e?"length"in e||"count"in e&&i(e.count):!1}function d(e){return s(e)?i(e.count)?e.count():e.length:0}function p(e){return e&&i(e.toJS)?e.toJS():e}function v(e,t){return e&&"object"==typeof e?i(e.get)?e.get(t):e[t]:e}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){return i(e)?e:i(t)?c(t,e):"identity"===t?c(n,e):r}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=n,t.noop=r,t.toType=u,t.isFunction=i,t.isString=a,t.isObject=o,t.isNumber=l,t.isBoolean=f,t.partial=c,t.isIterable=s,t.iterableLength=d,t.unwrapImmutable=p,t.get=v,t.hasProp=h,t.asCallable=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),o=r(a),l=n(1),f=r(l),c=function(){function e(t){u(this,e),this.getValidator=t}return i(e,[{key:"validate",value:function(e){var t=this.getValidator(e);return f["default"].isInstance(t)?t.validate(e):o["default"].Map({isValid:!0})}}]),e}();t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return o.isString(e)||o.isNumber(e)||o.isBoolean(e)?o.isString(e)?e.trim().length>0:isNaN(e)?!1:!0:!1}function u(e){return function(t){return t.length>=e}}function i(e){return function(t){return t.length<=e}}function a(e,t){return function(n){var r=parseInt(n,10);return r>=e&&t>=r}}Object.defineProperty(t,"__esModule",{value:!0}),t.required=r,t.minLength=u,t.maxLength=i,t.between=a;var o=n(3)},function(e,t,n){"use strict";function r(e,t){return e=u.asCallable(e,function(){return!0}),t=u.asCallable(t,function(e){return u.isString(e)?e:""}),function(n){var r=e(n),u=t(n);return{isValid:r,message:u}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var u=n(3);e.exports=t["default"]}])});